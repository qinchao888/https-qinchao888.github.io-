<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/pika.jpeg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/pika.jpeg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/pika.jpeg">
  <link rel="mask-icon" href="/images/pika.jpeg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"qinchao888.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="cypress version 10.1.0 官方文档 command12345# 打开窗口，可自己选择想要运行的文件，修改代码后自动执行&gt; npx cypress open# 运行单个文件，不会监听代码的变更&gt; npx cypress run --spec cypress&#x2F;e2e&#x2F;test.cy.ts --browser chrome --headed --no-exit">
<meta property="og:type" content="article">
<meta property="og:title" content="Cypress">
<meta property="og:url" content="https://qinchao888.github.io/2022/06/22/Cypress/index/index.html">
<meta property="og:site_name" content="qinchao888的博客">
<meta property="og:description" content="cypress version 10.1.0 官方文档 command12345# 打开窗口，可自己选择想要运行的文件，修改代码后自动执行&gt; npx cypress open# 运行单个文件，不会监听代码的变更&gt; npx cypress run --spec cypress&#x2F;e2e&#x2F;test.cy.ts --browser chrome --headed --no-exit">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-06-22T09:42:14.755Z">
<meta property="article:modified_time" content="2022-07-04T06:56:08.993Z">
<meta property="article:author" content="qinchao888">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://qinchao888.github.io/2022/06/22/Cypress/index/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Cypress | qinchao888的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">qinchao888的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://qinchao888.github.io/2022/06/22/Cypress/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/pika.jpeg">
      <meta itemprop="name" content="qinchao888">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="qinchao888的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Cypress
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-22 17:42:14" itemprop="dateCreated datePublished" datetime="2022-06-22T17:42:14+08:00">2022-06-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-04 14:56:08" itemprop="dateModified" datetime="2022-07-04T14:56:08+08:00">2022-07-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Cypress/" itemprop="url" rel="index"><span itemprop="name">Cypress</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>cypress version 10.1.0</p>
<p><a target="_blank" rel="noopener" href="https://docs.cypress.io/api/commands/and">官方文档</a></p>
<h3 id="command"><a href="#command" class="headerlink" title="command"></a>command</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开窗口，可自己选择想要运行的文件，修改代码后自动执行</span></span><br><span class="line">&gt; npx cypress open</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行单个文件，不会监听代码的变更</span></span><br><span class="line">&gt; npx cypress run --spec cypress/e2e/test.cy.ts --browser chrome --headed --no-exit</span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="before-和-beforeEach-和-after"><a href="#before-和-beforeEach-和-after" class="headerlink" title="before 和 beforeEach 和 after"></a>before 和 beforeEach 和 after</h4><p>before：在第一个用例(it)之前运行</p>
<p>beforeEach：在每个it执行前都会执行一次。</p>
<p>after：在所有用例执行后运行</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基础示例</span></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;module&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">before</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;before do something&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;before each do something&#x27;</span>)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">describe</span>(<span class="string">&#x27;test1&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;check something&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ....</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">describe</span>(<span class="string">&#x27;test2&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;check something&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// ....</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="describe"><a href="#describe" class="headerlink" title="describe"></a>describe</h4><p>描述块，其内部定义的beforeEach函数只对其内部的it作用</p>
<h3 id="元素操作"><a href="#元素操作" class="headerlink" title="元素操作"></a>元素操作</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 元素存在</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;exist&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//元素不存在</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;not.exist&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素不可点击</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.disabled&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素可点击</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;not.be.disabled&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素可见</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素不可见</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.hidden&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素数量</span></span><br><span class="line">cy.<span class="title function_">find</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.length&#x27;</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第几个元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;tbody&gt;tr&#x27;</span>).<span class="title function_">eq</span>(<span class="number">0</span>); <span class="comment">// 第0个元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一个元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;tbody&gt;tr&#x27;</span>).<span class="title function_">first</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 最后一个元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;tbody&gt;tr&#x27;</span>).<span class="title function_">last</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下一个元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;li&#x27;</span>).<span class="title function_">next</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其下的所有元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;li&#x27;</span>).<span class="title function_">nextAll</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其下的所有元素，直到指定的元素（不包含）为止</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;#veggies&#x27;</span>).<span class="title function_">nextUntil</span>(<span class="string">&#x27;#nuts&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上一个元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;.active&#x27;</span>).<span class="title function_">prev</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其上的所有元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;.third&#x27;</span>).<span class="title function_">prevAll</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 其上的所有元素，直到指定的元素（不包含）为止</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;#nuts&#x27;</span>).<span class="title function_">prevUntil</span>(<span class="string">&#x27;#veggies&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 相邻元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;td&#x27;</span>).<span class="title function_">siblings</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 过滤元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;ul&#x27;</span>).<span class="title function_">find</span>(<span class="string">&#x27;li&#x27;</span>).<span class="title function_">filter</span>(<span class="string">&#x27;.active&#x27;</span>); <span class="comment">// 具有active类名的li元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;li&#x27;</span>).<span class="title function_">filter</span>(<span class="string">&#x27;:contains(&quot;Services&quot;)&#x27;</span>; <span class="comment">// filter by text</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;li&#x27;</span>).<span class="title function_">not</span>(<span class="string">&#x27;.active&#x27;</span>); <span class="comment">// 无active类名的li元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素的父元素</span></span><br><span class="line"><span class="comment">// &lt;tr&gt;&lt;td&gt;My first client&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line">cy.<span class="title function_">contains</span>(<span class="string">&#x27;My first client&#x27;</span>).<span class="title function_">parent</span>(<span class="string">&#x27;tr&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素所有的父元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;li.active&#x27;</span>).<span class="title function_">parents</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素所有的父元素，直至指定元素（不包含）为止</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;.active&#x27;</span>).<span class="title function_">parentsUntil</span>(<span class="string">&#x27;.nav&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素的子元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;ul&#x27;</span>).<span class="title function_">children</span>(); <span class="comment">// 所有的li元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;ul&#x27;</span>).<span class="title function_">children</span>(<span class="string">&#x27;.active&#x27;</span>); <span class="comment">// 具有active类名的li元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素本身或离得最近的祖先元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;td&#x27;</span>).<span class="title function_">closest</span>(<span class="string">&#x27;tr&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Scopes all subsequent cy commands to within this element.</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;form&#x27;</span>).<span class="title function_">within</span>(<span class="function">(<span class="params">$form</span>) =&gt;</span> &#123;</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;input[name=&quot;email&quot;]&#x27;</span>).<span class="title function_">type</span>(<span class="string">&#x27;john.doe@email.com&#x27;</span>);</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;input[name=&quot;password&quot;]&#x27;</span>).<span class="title function_">type</span>(<span class="string">&#x27;password&#x27;</span>);</span><br><span class="line">  cy.<span class="title function_">root</span>().<span class="title function_">submit</span>(); <span class="comment">// cy.root()即为cy.get(&#x27;form&#x27;)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// temporarily escape the .within context，脱离上下文</span></span><br><span class="line">  cy.<span class="title function_">root</span>().<span class="title function_">closest</span>(<span class="string">&#x27;.example&#x27;</span>).<span class="title function_">find</span>(<span class="string">&#x27;#name&#x27;</span>).<span class="title function_">type</span>(<span class="string">&#x27;Joe&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素别名</span></span><br><span class="line"><span class="title function_">beforeEach</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;button[type=submit]&#x27;</span>).<span class="title function_">as</span>(<span class="string">&#x27;submitBtn&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;disables on click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  cy.<span class="title function_">get</span>(<span class="string">&#x27;@submitBtn&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.disabled&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="表单元素操作"><a href="#表单元素操作" class="headerlink" title="表单元素操作"></a>表单元素操作</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置值</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;[data-test-id=&quot;textarea&quot;]&#x27;</span>).<span class="title function_">type</span>(<span class="string">&#x27;this is textarea value&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测值</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;[data-test-id=&quot;textarea&quot;]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.value&#x27;</span>, <span class="string">&#x27;this is textarea value&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测文本：select</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;select#name option:selected&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.text&#x27;</span>, <span class="string">&#x27;Peter&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否勾选</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input[type=&quot;checkbox&quot;]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.checked&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 勾选</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;[type=&quot;checkbox&quot;]&#x27;</span>).<span class="title function_">check</span>();</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;[type=&quot;radio&quot;]&#x27;</span>).<span class="title function_">check</span>();</span><br><span class="line"><span class="comment">// 勾选指定值的元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;[type=&quot;radio&quot;]&#x27;</span>).<span class="title function_">check</span>(<span class="string">&#x27;this is radio value&#x27;</span>)</span><br><span class="line"><span class="comment">// 勾选多个指定值的元素</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;form input&#x27;</span>).<span class="title function_">check</span>([<span class="string">&#x27;this is input value&#x27;</span>, <span class="string">&#x27;this is radio value&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取消勾选</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;[type=&quot;checkbox&quot;]&#x27;</span>).<span class="title function_">uncheck</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否被选中：select</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;option:first&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.selected&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 是否聚焦</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.focus&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 聚焦</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input&#x27;</span>).<span class="title function_">focus</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 失焦</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input&#x27;</span>).<span class="title function_">blur</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 已聚焦的元素</span></span><br><span class="line">cy.<span class="title function_">focused</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除input或textarea元素值</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;input&#x27;</span>).<span class="title function_">clear</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// select</span></span><br><span class="line"><span class="comment">// Select the option with the text apples</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;select&#x27;</span>).<span class="title function_">select</span>(<span class="string">&#x27;apples&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.value&#x27;</span>, <span class="string">&#x27;456&#x27;</span>);</span><br><span class="line"><span class="comment">// Select the option with the value &quot;456&quot;</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;select&#x27;</span>).<span class="title function_">select</span>(<span class="string">&#x27;456&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.value&#x27;</span>, <span class="string">&#x27;456&#x27;</span>);</span><br><span class="line"><span class="comment">// Select the option with index 0</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;select&#x27;</span>).<span class="title function_">select</span>(<span class="number">0</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.value&#x27;</span>, <span class="string">&#x27;456&#x27;</span>);</span><br><span class="line"><span class="comment">// 多选</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;select&#x27;</span>).<span class="title function_">select</span>([<span class="string">&#x27;apples&#x27;</span>, <span class="string">&#x27;bananas&#x27;</span>]).<span class="title function_">invoke</span>(<span class="string">&#x27;val&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;deep.equal&#x27;</span>, [<span class="string">&#x27;456&#x27;</span>, <span class="string">&#x27;458&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<h3 id="属性值检测"><a href="#属性值检测" class="headerlink" title="属性值检测"></a>属性值检测</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// css check</span></span><br><span class="line"><span class="comment">// 判断test元素是否存在css属性cursor: not-allowed</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;[data-test-id=&quot;test&quot;]&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.css&#x27;</span>, <span class="string">&#x27;cursor&#x27;</span>).<span class="title function_">and</span>(<span class="string">&#x27;equal&#x27;</span>, <span class="string">&#x27;not-allowed&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// class check</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.class&#x27;</span>, <span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// id check</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;div&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.id&#x27;</span>, <span class="string">&#x27;wrapper&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// attr check</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;a&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;have.attr&#x27;</span>, <span class="string">&#x27;href&#x27;</span>); </span><br></pre></td></tr></table></figure>

<h3 id="内容检测"><a href="#内容检测" class="headerlink" title="内容检测"></a>内容检测</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象属性检测</span></span><br><span class="line">cy.<span class="title function_">wrap</span>(&#123; <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span> &#125;).<span class="title function_">should</span>(<span class="string">&#x27;have.property&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>).<span class="title function_">and</span>(<span class="string">&#x27;eq&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>) ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文本</span></span><br><span class="line">cy.<span class="title function_">contains</span>(<span class="string">&#x27;test content&#x27;</span>);</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;tr&#x27;</span>).<span class="title function_">eq</span>(<span class="number">2</span>).<span class="title function_">should</span>(<span class="string">&#x27;contain&#x27;</span>, <span class="string">&#x27;Canada&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 忽略大小写</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;textarea&#x27;</span>).<span class="title function_">clear</span>().<span class="title function_">type</span>(<span class="string">&#x27;Capital Sentence&#x27;</span>).<span class="title function_">contains</span>(<span class="string">&#x27;capital sentence&#x27;</span>, &#123; <span class="attr">matchCase</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 节点内容是否为空</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;test&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.empty&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 包含字符</span></span><br><span class="line">cy.<span class="title function_">wrap</span>(<span class="string">&#x27;content&#x27;</span>).<span class="title function_">and</span>(<span class="string">&#x27;include&#x27;</span>, <span class="string">&#x27;con&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不包含字符</span></span><br><span class="line">cy.<span class="title function_">wrap</span>(<span class="string">&#x27;content&#x27;</span>).<span class="title function_">and</span>(<span class="string">&#x27;not.include&#x27;</span>, <span class="string">&#x27;can&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">go</span>(<span class="string">&#x27;back&#x27;</span>);</span><br><span class="line">cy.<span class="title function_">go</span>(<span class="string">&#x27;forward&#x27;</span>);</span><br><span class="line">cy.<span class="title function_">go</span>(-<span class="number">1</span>);</span><br><span class="line">cy.<span class="title function_">go</span>(<span class="number">1</span>);</span><br><span class="line">cy.<span class="title function_">reload</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// url</span></span><br><span class="line">cy.<span class="title function_">url</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// url中#及其后的内容</span></span><br><span class="line">cy.<span class="title function_">hash</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// location</span></span><br><span class="line">cy.<span class="title function_">visit</span>(<span class="string">&#x27;http://localhost:8000/app/index.html?q=dan#/users/123/edit&#x27;</span>)</span><br><span class="line">cy.<span class="title function_">location</span>().<span class="title function_">should</span>(<span class="function">(<span class="params">loc</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">hash</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;#/users/123/edit&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">host</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;localhost:8000&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">hostname</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;localhost&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">href</span>).<span class="property">to</span>.<span class="title function_">eq</span>(</span><br><span class="line">    <span class="string">&#x27;http://localhost:8000/app/index.html?q=dan#/users/123/edit&#x27;</span></span><br><span class="line">  )</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">origin</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;http://localhost:8000&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">pathname</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;/app/index.html&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">port</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;8000&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">protocol</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;http:&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="property">search</span>).<span class="property">to</span>.<span class="title function_">eq</span>(<span class="string">&#x27;?q=dan&#x27;</span>)</span><br><span class="line">  <span class="title function_">expect</span>(loc.<span class="title function_">toString</span>()).<span class="property">to</span>.<span class="title function_">eq</span>(</span><br><span class="line">    <span class="string">&#x27;http://localhost:8000/app/index.html?q=brian#/users/123/edit&#x27;</span></span><br><span class="line">  )</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 视口大小</span></span><br><span class="line">cy.<span class="title function_">viewport</span>(<span class="number">550</span>, <span class="number">750</span>); <span class="comment">// Set viewport to 550px x 750px</span></span><br><span class="line">cy.<span class="title function_">viewport</span>(<span class="string">&#x27;ipad-2&#x27;</span>); <span class="comment">// 768	x 1024</span></span><br></pre></td></tr></table></figure>

<h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;ul li&#x27;</span>).<span class="title function_">its</span>(<span class="string">&#x27;length&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;be.gt&#x27;</span>, <span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<h3 id="正则"><a href="#正则" class="headerlink" title="正则"></a>正则</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">wrap</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;abc&#x27;</span> &#125;).<span class="title function_">should</span>(<span class="string">&#x27;have.property&#x27;</span>, <span class="string">&#x27;name&#x27;</span>).<span class="title function_">and</span>(<span class="string">&#x27;match&#x27;</span>, <span class="regexp">/bc/</span>);</span><br></pre></td></tr></table></figure>

<h3 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">clock</span>();</span><br><span class="line">cy.<span class="title function_">tick</span>(<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// debug</span></span><br><span class="line">cy.<span class="title function_">debug</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// document</span></span><br><span class="line">cy.<span class="title function_">document</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// window</span></span><br><span class="line">cy.<span class="title function_">window</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// end：终止当前链</span></span><br><span class="line">cy.<span class="title function_">contains</span>(<span class="string">&#x27;User: Cheryl&#x27;</span>)</span><br><span class="line">  .<span class="title function_">click</span>()</span><br><span class="line">  .<span class="title function_">end</span>() <span class="comment">// yield null</span></span><br><span class="line">  .<span class="title function_">contains</span>(<span class="string">&#x27;User: Charles&#x27;</span>)</span><br><span class="line">  .<span class="title function_">click</span>() <span class="comment">// contains looks for content in document now</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// its：Get a property&#x27;s value on the previously yielded subject.</span></span><br><span class="line">cy.<span class="title function_">wrap</span>(&#123; <span class="attr">width</span>: <span class="string">&#x27;50&#x27;</span> &#125;).<span class="title function_">its</span>(<span class="string">&#x27;width&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// log</span></span><br><span class="line">cy.<span class="title function_">log</span>(<span class="string">&#x27;info&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// scollIntoView</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;button#checkout&#x27;</span>).<span class="title function_">scrollIntoView</span>().<span class="title function_">should</span>(<span class="string">&#x27;be.visible&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// shadow dom</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;.shadow-host&#x27;</span>).<span class="title function_">shadow</span>().<span class="title function_">find</span>(<span class="string">&#x27;.my-button&#x27;</span>).<span class="title function_">click</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// spread：数组变成参数</span></span><br><span class="line">cy.<span class="title function_">wait</span>([<span class="string">&#x27;@getUsers&#x27;</span>, <span class="string">&#x27;@getActivities&#x27;</span>, <span class="string">&#x27;@getComments&#x27;</span>]).<span class="title function_">spread</span>(</span><br><span class="line">  <span class="function">(<span class="params">getUsers, getActivities, getComments</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// each interception is now an individual argument</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// title</span></span><br><span class="line">cy.<span class="title function_">title</span>().<span class="title function_">should</span>(<span class="string">&#x27;eq&#x27;</span>, <span class="string">&#x27;this is title&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><h4 id="本地mock数据"><a href="#本地mock数据" class="headerlink" title="本地mock数据"></a>本地mock数据</h4><ol>
<li>注意：as命令是异步的，需要在其他的异步命令中获取数据，如在then中</li>
<li>fixture中使用this获取到as别名的数据</li>
<li>All intercepts are automatically cleared before every test.</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">intercept</span>(<span class="string">&#x27;/api/test**&#x27;</span>, &#123; <span class="attr">fixture</span>: <span class="string">&#x27;test.json&#x27;</span> &#125;).<span class="title function_">as</span>(</span><br><span class="line">  <span class="string">&#x27;getTestData&#x27;</span></span><br><span class="line">);</span><br><span class="line">cy.<span class="title function_">wait</span>([<span class="string">&#x27;@getTestData&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeEach</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  cy.<span class="title function_">fixture</span>(<span class="string">&#x27;users-admins.json&#x27;</span>).<span class="title function_">as</span>(<span class="string">&#x27;admins&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;the users fixture is bound to this.admins&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 注意不要使用箭头函数</span></span><br><span class="line">  cy.<span class="title function_">log</span>(<span class="string">`There are <span class="subst">$&#123;<span class="variable language_">this</span>.admins.length&#125;</span> administrators.`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过设置请求的alias来设置别名</span></span><br><span class="line">cy.<span class="title function_">intercept</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;/graphql&#x27;</span>, <span class="function">(<span class="params">req</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (req.<span class="property">body</span>.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;query&#x27;</span>) &amp;&amp; req.<span class="property">body</span>.<span class="property">query</span>.<span class="title function_">includes</span>(<span class="string">&#x27;mutation&#x27;</span>)) &#123;</span><br><span class="line">    req.<span class="property">alias</span> = <span class="string">&#x27;gqlMutation&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// assert that a matching request has been made</span></span><br><span class="line">cy.<span class="title function_">wait</span>(<span class="string">&#x27;@gqlMutation&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 请求结果的检测</span></span><br><span class="line">cy.<span class="title function_">wait</span>(<span class="string">&#x27;@someRoute&#x27;</span>).<span class="title function_">its</span>(<span class="string">&#x27;request.body&#x27;</span>).<span class="title function_">should</span>(<span class="string">&#x27;include&#x27;</span>, <span class="string">&#x27;user&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作请求结果</span></span><br><span class="line">cy.<span class="title function_">intercept</span>(<span class="string">&#x27;/integrations&#x27;</span>, <span class="function">(<span class="params">req</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// req.continue() with a callback will send the request to</span></span><br><span class="line">  <span class="comment">// the destination server</span></span><br><span class="line">  req.<span class="title function_">continue</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// &#x27;res&#x27; represents the real destination response</span></span><br><span class="line">    <span class="comment">// you can manipulate &#x27;res&#x27; before it&#x27;s sent to the browser</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="异步数据"><a href="#异步数据" class="headerlink" title="异步数据"></a>异步数据</h4><p>cypress中的then类似于Promise，但是不能当做Promise使用，即在内部使用 new Promise 等将或报错，只能使用链式的方式。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* @typescript-eslint/no-invalid-this: off */</span></span><br><span class="line"></span><br><span class="line">cy.<span class="title function_">fixture</span>(<span class="string">&#x27;test.json&#x27;</span>).<span class="title function_">as</span>(<span class="string">&#x27;testData&#x27;</span>);</span><br><span class="line">cy.<span class="title function_">fixture</span>(<span class="string">&#x27;user.json&#x27;</span>).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">  res.<span class="property">data</span>.<span class="property">test</span> = <span class="variable language_">this</span>.<span class="property">testData</span>;</span><br><span class="line">  <span class="keyword">const</span> cya = cy.<span class="title function_">intercept</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;api/user&#x27;</span>, res);</span><br><span class="line">  <span class="keyword">if</span> (config.<span class="property">as</span>) &#123;</span><br><span class="line">    cya.<span class="title function_">as</span>(config.<span class="property">as</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><h4 id="元素遍历"><a href="#元素遍历" class="headerlink" title="元素遍历"></a>元素遍历</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line">  .<span class="title function_">should</span>(<span class="string">&#x27;not.be.empty&#x27;</span>)</span><br><span class="line">  .<span class="title function_">and</span>(<span class="function">(<span class="params">$p: JQuery&lt;HTMLParagraphElement&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">expect</span>($p).<span class="property">to</span>.<span class="property">have</span>.<span class="title function_">length</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>($p.<span class="title function_">first</span>()).<span class="property">to</span>.<span class="title function_">contain</span>(<span class="string">&#x27;Hello World&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="attr">classes</span>: <span class="title class_">JQuery</span>&lt;<span class="built_in">string</span>&gt; = $p.<span class="title function_">map</span>(<span class="function">(<span class="params">i, el: HTMLParagraphElement</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="attr">jEl</span>: <span class="title class_">JQuery</span>&lt;<span class="title class_">HTMLParagraphElement</span>&gt; = <span class="title class_">Cypress</span>.$(el);</span><br><span class="line">      <span class="keyword">return</span> jEl.<span class="title function_">attr</span>(<span class="string">&#x27;class&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="attr">classList</span>: <span class="built_in">string</span>[] = classes.<span class="title function_">get</span>();</span><br><span class="line">    <span class="title function_">expect</span>(classList).<span class="property">to</span>.<span class="property">deep</span>.<span class="title function_">eq</span>([<span class="string">&#x27;text-primary&#x27;</span>, <span class="string">&#x27;text-danger&#x27;</span>, <span class="string">&#x27;text-default&#x27;</span>]);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;ul&gt;li&#x27;</span>).<span class="title function_">each</span>(<span class="function">(<span class="params">$el, index, $list</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// $el is a wrapped jQuery element</span></span><br><span class="line">  <span class="keyword">if</span> ($el.<span class="title function_">someMethod</span>() === <span class="string">&#x27;something&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// wrap this element so we can</span></span><br><span class="line">    <span class="comment">// use cypress commands on it</span></span><br><span class="line">    cy.<span class="title function_">wrap</span>($el).<span class="title function_">click</span>()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// do something else</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="play-mp3"><a href="#play-mp3" class="headerlink" title="play mp3"></a>play mp3</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">fixture</span>(<span class="string">&#x27;audio/sound.mp3&#x27;</span>, <span class="string">&#x27;base64&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">mp3</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> uri = <span class="string">&#x27;data:audio/mp3;base64,&#x27;</span> + mp3</span><br><span class="line">  <span class="keyword">const</span> audio = <span class="keyword">new</span> <span class="title class_">Audio</span>(uri)</span><br><span class="line"></span><br><span class="line">  audio.<span class="title function_">play</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="get和find的区别"><a href="#get和find的区别" class="headerlink" title="get和find的区别"></a>get和find的区别</h3><p>The cy.get command always starts its search from the cy.root element. In most cases, it is the document element, unless used inside the .within() command. The .find command starts its search from the current subject.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;test-title&quot;</span>&gt;</span>cy.get vs .find<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;comparison&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;feature&quot;</span>&gt;</span>Both are querying commands<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;#comparison&#x27;</span>)</span><br><span class="line">  .<span class="title function_">get</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">  <span class="comment">// finds the div.test-title outside the #comparison</span></span><br><span class="line">  <span class="comment">// and the div.feature inside</span></span><br><span class="line">  .<span class="title function_">should</span>(<span class="string">&#x27;have.class&#x27;</span>, <span class="string">&#x27;test-title&#x27;</span>)</span><br><span class="line">  .<span class="title function_">and</span>(<span class="string">&#x27;have.class&#x27;</span>, <span class="string">&#x27;feature&#x27;</span>)</span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;#comparison&#x27;</span>)</span><br><span class="line">  .<span class="title function_">find</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">  <span class="comment">// the search is limited to the tree at #comparison element</span></span><br><span class="line">  <span class="comment">// so it finds div.feature only</span></span><br><span class="line">  .<span class="title function_">should</span>(<span class="string">&#x27;have.length&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">  .<span class="title function_">and</span>(<span class="string">&#x27;have.class&#x27;</span>, <span class="string">&#x27;feature&#x27;</span>)</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/06/21/Chrome/website/" rel="prev" title="常用网站">
      <i class="fa fa-chevron-left"></i> 常用网站
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/06/27/GIT/index/" rel="next" title="GIT基础用法">
      GIT基础用法 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#command"><span class="nav-number">1.</span> <span class="nav-text">command</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">2.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#before-%E5%92%8C-beforeEach-%E5%92%8C-after"><span class="nav-number">2.1.</span> <span class="nav-text">before 和 beforeEach 和 after</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#describe"><span class="nav-number">2.2.</span> <span class="nav-text">describe</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C"><span class="nav-number">3.</span> <span class="nav-text">元素操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E6%93%8D%E4%BD%9C"><span class="nav-number">4.</span> <span class="nav-text">表单元素操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E5%80%BC%E6%A3%80%E6%B5%8B"><span class="nav-number">5.</span> <span class="nav-text">属性值检测</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AE%B9%E6%A3%80%E6%B5%8B"><span class="nav-number">6.</span> <span class="nav-text">内容检测</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2"><span class="nav-number">7.</span> <span class="nav-text">页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AF%94%E8%BE%83"><span class="nav-number">8.</span> <span class="nav-text">比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A3%E5%88%99"><span class="nav-number">9.</span> <span class="nav-text">正则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-number">10.</span> <span class="nav-text">定时器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">11.</span> <span class="nav-text">其他</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3"><span class="nav-number">12.</span> <span class="nav-text">接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0mock%E6%95%B0%E6%8D%AE"><span class="nav-number">12.1.</span> <span class="nav-text">本地mock数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">12.2.</span> <span class="nav-text">异步数据</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-number">13.</span> <span class="nav-text">示例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E9%81%8D%E5%8E%86"><span class="nav-number">13.1.</span> <span class="nav-text">元素遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#play-mp3"><span class="nav-number">13.2.</span> <span class="nav-text">play mp3</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#get%E5%92%8Cfind%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">14.</span> <span class="nav-text">get和find的区别</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="qinchao888"
      src="/images/pika.jpeg">
  <p class="site-author-name" itemprop="name">qinchao888</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">qinchao888</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
